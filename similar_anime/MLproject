name: similar_anime
conda_env: conda.yml

entry_points:
  main:
    parameters:
      weights:
        description: Wandb artifact with .h5 file of all neural network weights
        type: str
      history:
        description: Wandb artifact with .csv file of neural network run history
        type: str
      model:
        description: Wandb artifact with .h5 file of neural network
        type: str
      project_name:
        description: Name of Wandb project
        type: str
      main_df:
        description: Main preprocessed data frame artifact
        type: str
      sypnopses_df:
        description: Sypnopses data frame
        type: str
      anime_df:
        description: Anime data frame
        type: str
      anime_query:
        description: Anime of which to find similar animes to
        type: str
      a_query_number:
        description: Number of similar anime to return
        type: str
      random_anime:
        description: Boolean of whether or not to use a random anime as input
        type: str
      genres:
        description: List of genre criteria of format ["Genre1", "Genre2", None]
        type: str
      spec_genres:
        description: Boolean of whether or not to narrow down returned anime by genre
        type: str
      types:
        description: List of types of anime to return. OVA, Movie, TV, etc.
        type: str
      spec_types:
        description: Boolean of whether or not to specify types of anime to return
        type: str

    command: >-
      python similar_anime.py --weights {weights} \
                              --history {history} \
                              --model {model} \
                              --project_name {project_name} \
                              --main_df {main_df} \
                              --sypnopses_df {sypnopses_df} \
                              --anime_df {anime_df} \
                              --anime_query {anime_query} \
                              --a_query_number {a_query_number} \
                              --random_anime {random_anime} \
                              --genres {genres} \
                              --spec_genres {spec_genres} \
                              --types {types} \
                              --spec_types {spec_types}
